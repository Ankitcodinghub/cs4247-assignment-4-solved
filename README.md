# cs4247-assignment-4-solved
**TO GET THIS SOLUTION VISIT:** [CS4247 Assignment 4 Solved](https://www.ankitcodinghub.com/product/cs4247-assignment-4-solved/)


---

üì© **If you need this solution or have special requests:** **Email:** ankitcoding@gmail.com  
üì± **WhatsApp:** +1 419 877 7882  
üìÑ **Get a quote instantly using this form:** [Ask Homework Questions](https://www.ankitcodinghub.com/services/ask-homework-questions/)

*We deliver fast, professional, and affordable academic help.*

---

<h2>Description</h2>



<div class="kk-star-ratings kksr-auto kksr-align-center kksr-valign-top" data-payload="{&quot;align&quot;:&quot;center&quot;,&quot;id&quot;:&quot;94822&quot;,&quot;slug&quot;:&quot;default&quot;,&quot;valign&quot;:&quot;top&quot;,&quot;ignore&quot;:&quot;&quot;,&quot;reference&quot;:&quot;auto&quot;,&quot;class&quot;:&quot;&quot;,&quot;count&quot;:&quot;3&quot;,&quot;legendonly&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;score&quot;:&quot;5&quot;,&quot;starsonly&quot;:&quot;&quot;,&quot;best&quot;:&quot;5&quot;,&quot;gap&quot;:&quot;4&quot;,&quot;greet&quot;:&quot;Rate this product&quot;,&quot;legend&quot;:&quot;5\/5 - (3 votes)&quot;,&quot;size&quot;:&quot;24&quot;,&quot;title&quot;:&quot;CS4247 Assignment 4 Solved&quot;,&quot;width&quot;:&quot;138&quot;,&quot;_legend&quot;:&quot;{score}\/{best} - ({count} {votes})&quot;,&quot;font_factor&quot;:&quot;1.25&quot;}">

<div class="kksr-stars">

<div class="kksr-stars-inactive">
            <div class="kksr-star" data-star="1" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="2" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="3" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="4" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="5" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>

<div class="kksr-stars-active" style="width: 138px;">
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>
</div>


<div class="kksr-legend" style="font-size: 19.2px;">
            5/5 - (3 votes)    </div>
    </div>
<div class="page" title="Page 3">
<div class="section">
<div class="layoutArea">
<div class="column">
Assignment Overview

ÔÇßYou are provided with an incomplete C/C++ program that implements the progressive refinement radiosity algorithm

ÔÇßTask 1

ÔÉ∫ Complete the program

ÔÉ∫ Generate a radiosity solution for the sample input scene ÔÇßTask 2

ÔÉ∫ Create a new input scene model

ÔÉ∫ Generate a radiosity solution for the new scene

</div>
</div>
<div class="layoutArea">
<div class="column">
3

</div>
</div>
</div>
</div>
<div class="page" title="Page 4">
<div class="section">
<div class="layoutArea">
<div class="column">
Learning Objectives

ÔÇß Implementing the Progressive Refinement Radiosity Algorithm ÔÇß After completing the assignment, you should have learned

ÔÉ∫ How to use the Hemicube algorithm to estimate form factors:

<ul>
<li>ÔÇß &nbsp;How to compute delta form factor for each pixel on the hemicube</li>
<li>ÔÇß &nbsp;How to set up OpenGL views to project the scene onto the faces of the hemicube</li>
<li>ÔÇß &nbsp;How to use the item buffering technique to identify the patch that occupies a pixel
ÔÉ∫ How the progressive refinement radiosity algorithm works:
</li>
</ul>
<ul>
<li>ÔÇß &nbsp;How to ‚Äúshoot‚Äù light power from a shooter patch to the gatherer
patches, and update the radiosity values of these patches
</li>
<li>ÔÇß &nbsp;How to update the unshot power of a shooter patch with the new
power received by its child gatherer patches
</li>
<li>ÔÇß &nbsp;How to terminate the progressive refinement radiosity computation</li>
</ul>
</div>
</div>
<div class="layoutArea">
<div class="column">
4

</div>
</div>
</div>
</div>
<div class="page" title="Page 5">
<div class="section">
<div class="layoutArea">
<div class="column">
What Are Provided (1)

ÔÇßDownload the file cs4247_2021S2_assign4_todo_(win-vs2017).zip from the Assignments folder in LumiNUS Files

ÔÇßThe ZIP file contains a Visual Studio 2017 solution file assign4.sln. The solution has three C/C++ projects

ÔÉ∫ QuadsViewer

ÔÉ∫ RadiositySolver ÔÉ∫ RadiosityViewer

ÔÇß Tip: In Visual Studio, to make a project the default project to be built and run, you can right-click on the project name in the Solution Explorer, and select ‚ÄúSet as StartUp Project‚Äù

</div>
</div>
<div class="layoutArea">
<div class="column">
‚Äì

</div>
<div class="column">
For Windows

</div>
</div>
<div class="layoutArea">
<div class="column">
5

</div>
</div>
</div>
</div>
<div class="page" title="Page 6">
<div class="section">
<div class="layoutArea">
<div class="column">
What Are Provided (1)

ÔÇßDownload the file cs4247_2021S2_assign4_todo_(mac-xcode).zip from the Assignments folder in LumiNUS Files

ÔÇßThe ZIP file contains the Xcode project assign4.xcodeproj, which has the following three C/C++ targets

ÔÉ∫ QuadsViewer

ÔÉ∫ RadiositySolver ÔÉ∫ RadiosityViewer

</div>
</div>
<div class="layoutArea">
<div class="column">
‚Äì

</div>
<div class="column">
For

</div>
<div class="column">
macOS

</div>
</div>
<div class="layoutArea">
<div class="column">
6

</div>
</div>
</div>
</div>
<div class="page" title="Page 7">
<div class="section">
<div class="layoutArea">
<div class="column">
What Are Provided (2)

ÔÇß QuadsViewer is a completed (old-style) OpenGL application that lets you preview the input scene model and check the subdivision of the input quads into smaller ‚Äúshooter‚Äù quads and even-smaller ‚Äúgatherer‚Äù quads

ÔÉ∫ The default input scene model file is model.in

ÔÉ∫ Gatherer quads are obtained by subdividing shooter quads

<ul>
<li>ÔÉ∫ &nbsp;Press ‚Äúm‚Äù to cycle through display of the input quads, the shooter quads, and the gatherer quads</li>
<li>ÔÉ∫ &nbsp;In quadsviewer.cpp, the size of the shooter and gatherer quads are controlled by the values of maxShooterQuadEdgeLength and maxGathererQuadEdgeLength respectively
ÔÇß These two values are from the input scene model file model.in

ÔÇß radiositysolver.cpp also uses these two values for the same purpose
</li>
</ul>
</div>
</div>
<div class="layoutArea">
<div class="column">
7

</div>
</div>
</div>
</div>
<div class="page" title="Page 8">
<div class="section">
<div class="layoutArea">
<div class="column">
What Are Provided (3)

ÔÇß RadiositySolver is the incomplete program that

ÔÉ∫ Reads the input scene model from model.in

ÔÉ∫ Subdivides the input quads into ‚Äúshooter‚Äù and ‚Äúgatherer‚Äù quads

ÔÇß In radiositysolver.cpp, the size of the shooter and gatherer quads are controlled by the values of maxShooterQuadEdgeLength and maxGathererQuadEdgeLength respectively

ÔÉ∫ These two values are from the input scene model file model.in ÔÉ∫ Computes a radiosity solution for the scene

ÔÇß This step is the part to be completed

ÔÉ∫ Computes vertex radiosities from the patch radiosities

ÔÇß This step can take very long to run, so you should first test your radiosity algorithm implementation with a model with not too many gatherer quads

ÔÉ∫ Outputs the model with radiosity solution to the file model.out

8

</div>
</div>
</div>
</div>
<div class="page" title="Page 9">
<div class="section">
<div class="layoutArea">
<div class="column">
What Are Provided (4)

ÔÇß RadiosityViewer is a completed (old-style) OpenGL application that lets you view the model output by RadiositySolver

ÔÉ∫ Reads in a model with radiosity solution from file model.out ÔÉ∫ Performs simple tonemapping to map radiosity values to

displayable color values (i.e. to R, G, B values from 0.0 to 1.0)

ÔÉ∫ Renders the polygons using the tonemapped radiosity values as vertex colors

ÔÉ∫ You can try the viewer on the given sample model file cornell_box.out

ÔÇß First, copy cornell_box.out to the file model.out

ÔÇß Note that the sample cornell_box.out has been ‚Äúwatermarked‚Äù with some bright and dark patches ‚Äî your radiosity solution for cornell_box.in should not have those

</div>
</div>
<div class="layoutArea">
<div class="column">
9

</div>
</div>
</div>
</div>
<div class="page" title="Page 10">
<div class="section">
<div class="layoutArea">
<div class="column">
Task 1

ÔÇß Complete only the source file radiositysolver.cpp, which is part of the RadiositySolver project

<ul>
<li>ÔÉ∫ &nbsp;Complete the code at places marked ‚ÄúWRITE YOUR CODE HERE‚Äù</li>
<li>ÔÉ∫ &nbsp;You can add additional functions to the file</li>
<li>ÔÉ∫ &nbsp;Use good coding style and document your code
adequately (otherwise marks deducted)
</li>
<li>ÔÉ∫ &nbsp;Study the files quadmodel.{h,cpp} to see how the scene model and its subdivided quads are represented</li>
<li>ÔÉ∫ &nbsp;You can make use of helper functions found in common.h and vector3.h</li>
</ul>
</div>
</div>
<div class="layoutArea">
<div class="column">
10

</div>
</div>
</div>
</div>
<div class="page" title="Page 11">
<div class="section">
<div class="layoutArea">
<div class="column">
Task 1 (continue)

ÔÉ∫ Test your program on the provided sample input scene model cornell_box.in

<ul>
<li>ÔÇß &nbsp;Before running your RadiositySolver, copy cornell_box.in to the file model.in</li>
<li>ÔÇß &nbsp;After running your RadiositySolver, copy the output file model.out to cornell_box_my.out
ÔÉ∫ View your radiosity solution model.out using RadiosityViewer (in non-wireframe mode) and capture three different snapshots
</li>
</ul>
<ul>
<li>ÔÇß &nbsp;On Windows 10, you can use the Snip &amp; Sketch tool (press Win + Shift + ‚ÄúS‚Äù) to take a snapshot of the window and save the image</li>
<li>ÔÇß &nbsp;Use the default window size</li>
<li>ÔÇß &nbsp;Save the three snapshots to image files
ÔÉ∫ cornell_box_1.png ÔÉ∫ cornell_box_2.png ÔÉ∫ cornell_box_3.png
</li>
</ul>
</div>
</div>
<div class="layoutArea">
<div class="column">
11

</div>
</div>
</div>
</div>
<div class="page" title="Page 12">
<div class="section">
<div class="layoutArea">
<div class="column">
Task 1

ÔÇß RadiositySolver uses to the Progressive Refinement Radiosity algorithm to compute patch radiosity of each gatherer quad

ÔÉ∫ Pre-compute the delta form factors on the top face (already done) and side faces of the hemicube

ÔÇß Note that top hemicube face has same pixel resolution as the default window size (always a square)

ÔÉ∫ Progressive Refinement Radiosity loop

<ul>
<li>ÔÇß &nbsp;Find the shooter quad with the greatest unshot power</li>
<li>ÔÇß &nbsp;Use a hemicube to compute form factors from the shooter quad to each of the gatherer quads</li>
<li>ÔÇß &nbsp;Update the radiosity of each of the gatherer quads</li>
<li>ÔÇß &nbsp;Update the unshot power of each shooter patch with the new power
received by its child gatherer patches
</li>
<li>ÔÇß &nbsp;Terminate loop if max iterations is reached</li>
</ul>
</div>
</div>
<div class="layoutArea">
<div class="column">
‚Äî

</div>
<div class="column">
RadiositySolver

</div>
<div class="column">
Explained

</div>
</div>
<div class="layoutArea">
<div class="column">
12

</div>
</div>
</div>
</div>
<div class="page" title="Page 13">
<div class="section">
<div class="layoutArea">
<div class="column">
Task 2

ÔÇßCreate a new scene model

<ul>
<li>ÔÉ∫ &nbsp;Study the sample scene model cornell_box.in to find
out the input model file format
</li>
<li>ÔÉ∫ &nbsp;Name your new scene new_model.in</li>
<li>ÔÉ∫ &nbsp;Run your RadiositySolver program on new_model.in to output new_model.out</li>
<li>ÔÉ∫ &nbsp;View new_model.out in RadiosityViewer and capture three different snapshots
ÔÇß Use the default window size

ÔÇß Save your snapshots to image files

ÔÉ∫ new_model_1.png ÔÉ∫ new_model_2.png ÔÉ∫ new_model_3.png
</li>
</ul>
</div>
<div class="column">
13

</div>
</div>
</div>
</div>
<div class="page" title="Page 14">
<div class="section">
<div class="layoutArea">
<div class="column">
What to Submit

ÔÇßOnly the following 10 files

ÔÉ∫ Task 1

ÔÇß radiositysolver.cpp

ÔÇß cornell_box_my.out

ÔÇßcornell_box_1.png, cornell_box_2.png, cornell_box_3.png

ÔÉ∫ Task 2

ÔÇß new_model.in

ÔÇß new_model.out

ÔÇßnew_model_1.png, new_model_2.png, new_model_3.png

</div>
</div>
<div class="layoutArea">
<div class="column">
14

</div>
</div>
</div>
</div>
<div class="page" title="Page 15">
<div class="section">
<div class="layoutArea">
<div class="column">
How to Submit

ÔÇßPut only the required files in a single ZIP file

ÔÇßName your ZIP file your-student-number_assign4.zip

ÔÉ∫ e.g. A0123456X_assign4.zip

ÔÇßSubmit your ZIP file to the Assignment 4 Submission

folder in LumiNUS Files

ÔÉ∫ Folder will close at the deadline

ÔÉ∫ You may upload your ZIP file multiple times, but we take

the latest

ÔÇß Please delete your older versions

</div>
</div>
<div class="layoutArea">
<div class="column">
15

</div>
</div>
</div>
</div>
<div class="page" title="Page 16">
<div class="section">
<div class="layoutArea">
<div class="column">
Other Requirements

ÔÇß Programming languages and APIs

ÔÉ∫ C / C++

ÔÉ∫ OpenGL 1.1 (old-style OpenGL; no shader) ÔÉ∫ GLU &amp; GLUT / FreeGLUT

ÔÉ∫ No other third-party APIs are allowed

ÔÇß Platform

<ul>
<li>ÔÉ∫ &nbsp;You can develop your program on any OS and IDE</li>
<li>ÔÉ∫ &nbsp;However, the final submitted version must be compilable/buildable in Microsoft Visual Studio 2017</li>
</ul>
</div>
</div>
</div>
</div>
